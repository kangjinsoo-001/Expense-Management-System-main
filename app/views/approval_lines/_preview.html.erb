<turbo-frame id="approval_line_preview_frame">
  <div class="mt-2 p-3 bg-gray-50 border border-gray-200 rounded-lg">
    <h4 class="text-sm font-medium text-gray-700 mb-2">승인 단계</h4>
    <div class="space-y-2">
      <% approval_line.approval_line_steps.ordered.each do |step| %>
        <div class="text-sm flex items-center">
          <span class="font-medium text-gray-600 mr-2"><%= step.step_order %>.</span>
          
          <% if step.role_approve? %>
            <span class="text-gray-700">
              <%= step.approver.name %>
              <% if step.approver.approver_groups.any? %>
                <% highest_group = step.approver.approver_groups.max_by(&:priority) %>
                <span class="text-gray-500">(<%= highest_group.name %>)</span>
              <% end %>
            </span>
            <span class="ml-1 inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium <%= step.role == 'approve' ? 'bg-blue-100 text-blue-700' : 'bg-gray-100 text-gray-600' %>">
              <%= step.role == 'approve' ? '승인' : '참조' %>
            </span>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</turbo-frame>