<div class="max-w-3xl mx-auto">
  <div class="bg-white shadow-sm rounded-lg md:shadow">
    <div class="px-4 py-5 sm:p-6">
      <h3 class="text-lg font-medium leading-6 text-gray-900 mb-4">
        경비 시트 수정
      </h3>

      <%= form_with model: @expense_sheet do |form| %>
        <% if @expense_sheet.errors.any? %>
          <div class="mb-4 p-4 bg-red-50 text-red-800 rounded-md">
            <h4 class="text-sm font-medium mb-2">다음 오류를 수정해주세요:</h4>
            <ul class="list-disc list-inside text-sm">
              <% @expense_sheet.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="grid grid-cols-1 gap-4 sm:gap-6 sm:grid-cols-2">
          <div>
            <%= form.label :year, "연도", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.select :year, 
                          options_for_select((Date.current.year-2..Date.current.year+1).to_a, @expense_sheet.year),
                          {},
                          { class: "block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm text-base sm:text-sm py-3 sm:py-2 opacity-60",
                            disabled: true } %>
            <p class="mt-1 text-sm text-gray-500">변경할 수 없습니다.</p>
          </div>

          <div>
            <%= form.label :month, "월", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.select :month, 
                          options_for_select((1..12).map { |m| ["#{m}월", m] }, @expense_sheet.month),
                          {},
                          { class: "block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm text-base sm:text-sm py-3 sm:py-2 opacity-60",
                            disabled: true } %>
            <p class="mt-1 text-sm text-gray-500">변경할 수 없습니다.</p>
          </div>

          <div class="sm:col-span-2">
            <%= form.label :remarks, "비고", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.text_area :remarks, 
                             rows: 3,
                             class: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-base sm:text-sm py-3 sm:py-2",
                             placeholder: "특별한 사항이 있으면 입력하세요" %>
            <p class="mt-1 text-sm text-gray-500">선택사항입니다.</p>
          </div>
        </div>

        <div class="mt-8 flex flex-col-reverse sm:flex-row items-stretch sm:items-center sm:justify-end gap-3 sm:gap-x-6">
          <%= link_to "취소", expense_sheets_path, 
                    class: "text-center py-3 sm:py-2 px-4 sm:px-3 text-base sm:text-sm font-semibold leading-6 text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50" %>
          <%= form.submit "저장", 
                        class: "rounded-md bg-indigo-600 py-3 sm:py-2 px-6 sm:px-3 text-base sm:text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600" %>
        </div>
      <% end %>
    </div>
  </div>
</div>