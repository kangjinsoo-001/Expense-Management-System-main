<%= form_with(model: [:admin, approver_group], local: false) do |form| %>
  <% if approver_group.errors.any? %>
    <div class="bg-red-50 border border-red-200 text-red-900 px-4 py-3 rounded mb-4">
      <h4 class="font-bold mb-2"><%= approver_group.errors.count %>개의 오류가 발생했습니다:</h4>
      <ul class="list-disc list-inside">
        <% approver_group.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="space-y-4">
    <div>
      <%= form.label :name, '그룹명', class: 'block text-sm font-medium text-gray-700' %>
      <%= form.text_field :name, class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
    </div>

    <div>
      <%= form.label :description, '설명', class: 'block text-sm font-medium text-gray-700' %>
      <%= form.text_area :description, rows: 3, class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
    </div>

    <div>
      <%= form.label :priority, '우선순위', class: 'block text-sm font-medium text-gray-700' %>
      <%= form.number_field :priority, min: 1, max: 10, class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
      <p class="mt-1 text-sm text-gray-500">1-10 사이의 값 (높을수록 상위 그룹)</p>
    </div>

    <div>
      <%= form.label :is_active, class: 'flex items-center' do %>
        <%= form.check_box :is_active, class: 'rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500' %>
        <span class="ml-2 text-sm text-gray-700">활성화</span>
      <% end %>
    </div>
  </div>

  <div class="mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3">
    <%= form.submit approver_group.persisted? ? '수정' : '생성', 
                    class: 'inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:col-start-2' %>
    <%= link_to '취소', admin_approver_groups_path,
                class: 'mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0',
                data: { turbo_frame: '_top' } %>
  </div>
<% end %>