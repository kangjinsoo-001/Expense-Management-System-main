<div class="nested-fields border border-gray-300 rounded-lg p-4" data-nested-fields-target="field">
  <div class="grid grid-cols-1 gap-4 sm:grid-cols-12">
    <div class="sm:col-span-10">
      <div class="grid grid-cols-1 gap-4 sm:grid-cols-3">
        <div>
          <%= form.label :rule_type, "규칙 타입", class: "block text-sm font-medium text-gray-700" %>
          <%= form.select :rule_type, 
              options_for_select([
                ['필수 검증', 'required'],
                ['금액 일치', 'amount_match'],
                ['날짜 검증', 'date_validation'],
                ['사용자 정의', 'custom']
              ], form.object.rule_type),
              { prompt: "선택하세요" },
              class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %>
        </div>
        
        <div>
          <%= form.label :severity, "심각도", class: "block text-sm font-medium text-gray-700" %>
          <%= form.select :severity,
              options_for_select([
                ['오류', 'error'],
                ['경고', 'warning'],
                ['정보', 'info']
              ], form.object.severity),
              { prompt: "선택하세요" },
              class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %>
        </div>
        
        <div>
          <%= form.label :position, "순서", class: "block text-sm font-medium text-gray-700" %>
          <%= form.number_field :position, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm", min: 0 %>
        </div>
      </div>
      
      <div class="mt-4">
        <%= form.label :prompt_text, "검증 프롬프트", class: "block text-sm font-medium text-gray-700" %>
        <%= form.text_area :prompt_text, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm font-mono", rows: 6,
            placeholder: "검증 규칙 설명" %>
      </div>
      
      <div class="mt-4 flex items-center">
        <%= form.check_box :active, class: "h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" %>
        <%= form.label :active, "활성화", class: "ml-2 block text-sm text-gray-900" %>
      </div>
    </div>
    
    <div class="sm:col-span-2 flex justify-end">
      <button type="button" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"
              data-action="click->nested-fields#removeField">
        <svg class="-ml-0.5 mr-2 h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
        삭제
      </button>
      <%= form.hidden_field :_destroy %>
    </div>
  </div>
</div>