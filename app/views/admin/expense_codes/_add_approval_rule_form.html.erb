<%= turbo_frame_tag "add_approval_rule_form" do %>
  <%= form_with model: ExpenseCodeApprovalRule.new,
                url: add_approval_rule_admin_expense_code_path(expense_code),
                method: :post,
                local: false,
                class: "space-y-4 border-t pt-4" do |form| %>
  <h4 class="text-sm font-medium text-gray-900">새 승인 규칙 추가</h4>
  
  <div class="grid grid-cols-1 gap-4 sm:grid-cols-3">
    <div>
      <%= form.label :condition, '조건식', class: 'block text-sm font-medium text-gray-700' %>
      <%= form.text_field :condition,
                          placeholder: '예: #금액 > 300000',
                          class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
    </div>
    
    <div>
      <%= form.label :approver_group_id, '승인자 그룹', class: 'block text-sm font-medium text-gray-700' %>
      <%= form.select :approver_group_id,
                      options_from_collection_for_select(available_groups, :id, :name_with_priority),
                      { prompt: '그룹 선택' },
                      class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
    </div>
    
    <div class="flex items-end">
      <%= form.submit '규칙 추가', class: 'btn btn-primary' %>
    </div>
  </div>
  
  <div class="flex items-start space-x-2">
    <%= form.label :is_active, class: 'flex items-center cursor-pointer' do %>
      <%= form.check_box :is_active, checked: true, class: 'rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500' %>
      <span class="ml-2 text-sm text-gray-700">활성화</span>
    <% end %>
  </div>
  <% end %>
<% end %>